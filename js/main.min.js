var ServicesSlides=document.querySelectorAll(".services-slide"),ServiceButtons=document.querySelectorAll(".services-item");if(ServicesSlides.length)for(var i=0;i<ServiceButtons.length;i++)ServiceButtons[i].addEventListener("click",function(e){document.querySelector(".services-visible").classList.remove("services-visible"),document.querySelector(".services-item-current").classList.remove("services-item-current"),ServicesSlides[e.target.dataset.slide].classList.add("services-visible"),ServiceButtons[e.target.dataset.slide].classList.add("services-item-current")});var FeaturesSlides=document.querySelectorAll(".slider-item"),SlideButtonBwd=document.querySelector(".slider-btn-bwd"),SlideButtonFwd=document.querySelector(".slider-btn-fwd"),SlideTabs=document.querySelectorAll(".slider-tab");if(FeaturesSlides.length){for(var CurrentFeaturesSlide=0,switchToNextSlide=function(e){document.querySelector(".slider-item-active").classList.remove("slider-item-active"),document.querySelector(".slider-tab-active").classList.remove("slider-tab-active"),CurrentFeaturesSlide=0<=e?e%FeaturesSlides.length:FeaturesSlides.length-1,FeaturesSlides[CurrentFeaturesSlide].classList.add("slider-item-active"),SlideTabs[CurrentFeaturesSlide].classList.add("slider-tab-active")},i=0;i<SlideTabs.length;i++)SlideTabs[i].addEventListener("click",function(e){switchToNextSlide(e.target.dataset.slide)});SlideButtonFwd.addEventListener("click",function(){switchToNextSlide(CurrentFeaturesSlide+1)}),SlideButtonBwd.addEventListener("click",function(){switchToNextSlide(CurrentFeaturesSlide-1)})}for(var BuyButton=document.querySelectorAll(".products-buy"),ShowModal=document.getElementById("modal-order"),CloseModal=document.querySelectorAll(".modal-close"),i=0;i<BuyButton.length;i++)BuyButton[i].addEventListener("click",function(e){e.preventDefault(),ShowModal.classList.add("modal-visible")});for(i=0;i<CloseModal.length;i++)CloseModal[i].addEventListener("click",function(){document.querySelector(".modal-visible").classList.remove("modal-visible")});window.addEventListener("keydown",function(e){27===e.keyCode&&ShowModal.classList.contains("modal-visible")&&(e.preventDefault(),ShowModal.classList.remove("modal-visible"))});const mapLink=document.querySelector(".contacts-map-link"),mapPopup=document.querySelector(".modal-map"),mapClose=mapPopup.querySelector(".modal-close");mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-visible")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-visible")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("modal-visible")&&(e.preventDefault(),mapPopup.classList.remove("modal-visible"))});const feedbackLink=document.querySelector(".contacts-feedback-link"),feedbackPopup=document.querySelector(".modal-feedback"),feedbackClose=mapPopup.querySelector(".modal-close");feedbackLink.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.add("modal-visible")}),feedbackClose.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.remove("modal-visible")}),window.addEventListener("keydown",function(e){27===e.keyCode&&feedbackPopup.classList.contains("modal-visible")&&(e.preventDefault(),feedbackPopup.classList.remove("modal-visible"))});const loginLink=document.querySelector(".login-link"),loginPopup=document.querySelector(".modal-login"),loginClose=loginPopup.querySelector(".modal-close"),loginForm=loginPopup.querySelector(".login-form"),loginLogin=loginPopup.querySelector(".login-icon-user"),loginPassword=loginPopup.querySelector(".login-icon-password");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}loginLink.addEventListener("click",function(e){e.preventDefault(),loginPopup.classList.add("modal-show"),storage?(loginLogin.value=storage,loginPassword.focus()):loginLogin.focus()}),loginClose.addEventListener("click",function(e){e.preventDefault(),loginPopup.classList.remove("modal-show"),loginPopup.classList.remove("modal-error")}),loginForm.addEventListener("submit",function(e){loginLogin.value&&loginPassword.value?isStorageSupport&&localStorage.setItem("login",loginLogin.value):(e.preventDefault(),loginPopup.classList.remove("modal-error"),loginPopup.offsetWidth=loginPopup.offsetWidth,loginPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&loginPopup.classList.contains("modal-show")&&(e.preventDefault(),loginPopup.classList.remove("modal-show"),loginPopup.classList.remove("modal-error"))});